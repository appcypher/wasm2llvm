<h2 align="center">CODEGEN</h2>

--------------

### DESCRIPTION

Contains implementation of generating LLVM module from WebAssembly binary.

--------------

### MAP

--------------

### WASM SPEC
- https://webassembly.github.io/spec/
- https://github.com/sunfishcode/wasm-reference-manual/blob/master/WebAssembly.md

--------------

## RUNTIME CHECKS
- Indirect call
    - Index within table bounds
    - Function signature check

- Load / store
    - Index within memory bounds check
    - Alignment check?

- Memory grow
    - Maximum bound check

- Math
    - Canonical nan check? nan(p)+ -> nan(p)* where p = canon(p)
    - Division by zero check


--------------

### PROCESS ADDRESS SPACE

```
Compiler Process [
    Threads [
        Stack [ Instance0 Stack [ ... ] ]
        Instance1 Stack [ ... ]
    ]

    Heap [
        Instance Memory [ ... ]
        Instance Table [ ... ]
        Instance Static [ ... ]
        Instance Function Exe [ ... ]
        Imported Memory [ ... ]
    ]

    Static [ ... ]

    Executable [
        Instructions [ ... ]
        Static Lib Instructions [ ... ]
    ]
]

Process Shared Memory [
    Dynamic Lib [ ... ]
    Imported Functions Exe [ ... ]
]
```

--------------

### CALLING CONVENTION
- Windows - stdcall
- Unix - cdecl

--------------

### TRAPS AND EXCEPTIONS
- Out of bounds mem access (sigsegv)
- Out of bounds table access (checks)
- Call indirect to non-existent function (checks)
- Execution reaches unreachable (sigill)
- Stack overflow (sigabrt)
- Function signature mismatch (checks)
- Division by Zero (sigfpe)
- Signals generated by host (sig*)
- Integer overflow (...)
- Truncating nan to integer (...)


--------------

### SIMD


--------------


### DEBUGINFO

--------------


### EXCEPTIONS
- Windows - SEH
- Unix - libunwind

--------------
